{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=8)}([function(e,t){e.exports=require(\"express\")},function(e,t){e.exports=require(\"mongoose\")},function(e,t){e.exports=require(\"path\")},function(e,t){e.exports=require(\"dotenv\")},function(e,t){e.exports=require(\"http\")},function(e,t){e.exports=require(\"morgan\")},function(e,t){e.exports=require(\"cors\")},function(e,t,n){\"use strict\";var r=n(0),o=n.n(r).a.Router();o.get(\"/\",(e,t)=>{var{q:n}=e.query,{title:r}=e.body;t.render(\"trang-chu\")}),o.get(\"/books\",(e,t)=>{t.render(\"index\")}),o.get(\"/books/:id\",(e,t)=>{var{id:n}=e.params;t.render(\"index\")}),t.a=o},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(3),r=n.n(t),o=n(0),i=n.n(o),s=n(4),u=n.n(s),a=n(5),c=n.n(a),p=n(6),l=n.n(p),d=n(1),f=n.n(d),h=n(7),v=n(2),g=n.n(v);r.a.config();var b=process.env.PORT||5e3;new class{constructor(e){this.port=e,this.app=i()(),this.server=u.a.createServer(this.app),this.useStatic(),this.useViewEngine(),this.useDatabase(),this.useMiddlewares(),this.useRoutes(),this.run()}useRoutes(){this.app.use(\"/\",h.a)}useViewEngine(){this.app.set(\"views\",g.a.join(e,\"/views\")),this.app.set(\"view engine\",\"hbs\")}useStatic(){this.app.use(i.a.static(g.a.join(e,\"/public\")))}useDatabase(){f.a.connect(\"mongodb+srv://nguyenkhavi:\".concat(process.env.MONGODB_PASSWORD,\"@cluster0.vo4ad.mongodb.net/\").concat(process.env.MONGODB_NAME),{useNewUrlParser:!0,useUnifiedTopology:!0}),f.a.connection.on(\"error\",e=>console.log(e)),f.a.connection.once(\"open\",()=>console.log(\"> MongoDB Running...\")).on(\"error\",e=>{throw e})}useMiddlewares(){this.app.use(l()()),this.app.use(c()(\"dev\")),this.app.use(i.a.json({limit:\"1024mb\",extended:!0})),this.app.use(i.a.urlencoded({limit:\"1024mb\",extended:!0,parameterLimit:5e4}))}run(){this.server.listen(this.port,()=>{console.log(\"> Server is running on \".concat(this.port,\"...\"))})}}(b)}.call(this,\"/\")}]);","extractedComments":[]}